@use '../mixins/mq' as *;

$sizes: 1, 2, 3, 4, 5, 6, 7, 8, 9;
$directions: (
  't': 'top',
  'r': 'right',
  'b': 'bottom',
  'l': 'left',
);
$axes: (
  'v': ('top', 'bottom'),
  'h': ('left', 'right'),
);

@mixin spacing-zeros($prefix: '') {
  .m-#{$prefix}0 { margin: 0; }
  .p-#{$prefix}0 { padding: 0; }
  .g-#{$prefix}0 { gap: 0; }

  @each $dir, $prop in $directions {
    .m#{$dir}-#{$prefix}0 { margin-#{$prop}: 0; }
    .p#{$dir}-#{$prefix}0 { padding-#{$prop}: 0; }
  }

  @each $axis, $props in $axes {
    .m#{$axis}-#{$prefix}0 { @each $prop in $props { margin-#{$prop}: 0; } }
    .p#{$axis}-#{$prefix}0 { @each $prop in $props { padding-#{$prop}: 0; } }
  }
}

@mixin spacing-auto($prefix: '') {
  .m-#{$prefix}auto { margin: auto; }

  @each $dir, $prop in $directions {
    .m#{$dir}-#{$prefix}auto { margin-#{$prop}: auto; }
  }

  @each $axis, $props in $axes {
    .m#{$axis}-#{$prefix}auto { @each $prop in $props { margin-#{$prop}: auto; } }
  }
}

@mixin spacing-sizes($prefix: '') {
  @each $size in $sizes {
    .m-#{$prefix}#{$size} { margin: var(--spacing-#{$size}); }
    .p-#{$prefix}#{$size} { padding: var(--spacing-#{$size}); }
    .g-#{$prefix}#{$size} { gap: var(--spacing-#{$size}); }

    @each $dir, $prop in $directions {
      .m#{$dir}-#{$prefix}#{$size} { margin-#{$prop}: var(--spacing-#{$size}); }
      .p#{$dir}-#{$prefix}#{$size} { padding-#{$prop}: var(--spacing-#{$size}); }
    }

    @each $axis, $props in $axes {
      .m#{$axis}-#{$prefix}#{$size} { @each $prop in $props { margin-#{$prop}: var(--spacing-#{$size}); } }
      .p#{$axis}-#{$prefix}#{$size} { @each $prop in $props { padding-#{$prop}: var(--spacing-#{$size}); } }
    }
  }
}

@include spacing-zeros;
@include spacing-auto;
@include spacing-sizes;

@include responsive using ($bp) {
  @include spacing-zeros('#{$bp}-');
  @include spacing-auto('#{$bp}-');
  @include spacing-sizes('#{$bp}-');
}
